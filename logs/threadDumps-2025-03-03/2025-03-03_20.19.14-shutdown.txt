Server cannot shutdown properly: some non-daemon threads are still running

TeamCity Professional 2023.11.1 (build 147412), startup time: 2025-03-02 18:00
OS: Linux, version 6.10.14-linuxkit, amd64, Current user: tcuser, Time zone: GMT (UTC)
Java: 17.0.7, OpenJDK 64-Bit Server VM (17.0.7+7-LTS, mixed mode, sharing), OpenJDK Runtime Environment (17.0.7+7-LTS), Amazon.com Inc.; JVM parameters: --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED -Djava.util.logging.config.file=/opt/teamcity/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xmx2g -XX:ReservedCodeCacheSize=640m -Dteamcity.configuration.path=../conf/teamcity-startup.properties -Dlog4j2.configurationFile=file:/opt/teamcity/bin/../conf/teamcity-server-log4j.xml -Dteamcity_logs=/opt/teamcity/bin/../logs -Djava.awt.headless=true -Dignore.endorsed.dirs= -Dcatalina.base=/opt/teamcity -Dcatalina.home=/opt/teamcity -Djava.io.tmpdir=/opt/teamcity/temp
Database type: HSQL2


2025-03-03 20:19:14
Full thread dump OpenJDK 64-Bit Server VM (17.0.7+7-LTS mixed mode, sharing):

"process reaper" daemon group="system" prio=10 tid=67 nid=67 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:401)
    at java.base@17.0.7/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:903)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Notification Thread" daemon group="system" prio=9 tid=12 nid=12 runnable 
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon group="system" prio=9 tid=4 nid=4 runnable 
   java.lang.Thread.State: RUNNABLE

"Reference Handler" daemon group="system" prio=10 tid=2 nid=2 runnable 
   java.lang.Thread.State: RUNNABLE
    at java.base@17.0.7/java.lang.ref.Reference.waitForReferencePendingList(Native Method)
    at java.base@17.0.7/java.lang.ref.Reference.processPendingReferences(Reference.java:253)
    at java.base@17.0.7/java.lang.ref.Reference$ReferenceHandler.run(Reference.java:215)

"http-nio-8111-Acceptor" daemon group="main" prio=5 tid=32 nid=32 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Thread.sleep(Native Method)
    at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:100)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-8" daemon group="main" prio=5 tid=28 nid=28 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"AsyncFileHandlerWriter-1" daemon group="main" prio=5 tid=16 nid=16 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingDeque.takeFirst(LinkedBlockingDeque.java:485)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingDeque.take(LinkedBlockingDeque.java:673)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-3" daemon group="main" prio=5 tid=23 nid=23 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-10" daemon group="main" prio=5 tid=30 nid=30 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-7" daemon group="main" prio=5 tid=27 nid=27 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Finalizer" daemon group="system" prio=8 tid=3 nid=3 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at java.base@17.0.7/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
    at java.base@17.0.7/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)
    at java.base@17.0.7/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:172)

"main" group="main" prio=5 tid=1 nid=1 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at jetbrains.buildServer.maintenance.StartupContext.waitForStageLock(StartupContext.java:610)
    at jetbrains.buildServer.maintenance.StartupContext.waitWhileProcessingInfinitely(StartupContext.java:598)
    at jetbrains.buildServer.maintenance.TeamCityDispatcherServlet.destroy(TeamCityDispatcherServlet.java:175)
    at org.apache.catalina.core.StandardWrapper.unload(StandardWrapper.java:1258)
    at org.apache.catalina.core.StandardWrapper.stopInternal(StandardWrapper.java:1544)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5135)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348)
    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337)
    at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)
    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
    at java.base@17.0.7/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348)
    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337)
    at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)
    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
    at java.base@17.0.7/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
    at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:973)
    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242)
    at org.apache.catalina.startup.Catalina.stop(Catalina.java:849)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:811)
    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)
    at app//org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)
    at app//org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)

"http-nio-8111-exec-2" daemon group="main" prio=5 tid=22 nid=22 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"FileHandlerLogFilesCleaner-1" daemon group="main" prio=5 tid=15 nid=15 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"process reaper" daemon group="system" prio=10 tid=775 nid=775 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:401)
    at java.base@17.0.7/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:903)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"RMI Scheduler(0)" daemon group="system" prio=5 tid=89 nid=89 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-Poller" daemon group="main" prio=5 tid=31 nid=31 runnable 
   java.lang.Thread.State: RUNNABLE
    at java.base@17.0.7/sun.nio.ch.EPoll.wait(Native Method)
    at java.base@17.0.7/sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:118)
    at java.base@17.0.7/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:129)
    at java.base@17.0.7/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)
    at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:812)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-6" daemon group="main" prio=5 tid=26 nid=26 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Common-Cleaner" daemon group="InnocuousThreadGroup" prio=8 tid=11 nid=11 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at java.base@17.0.7/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
    at java.base@17.0.7/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:140)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)
    at java.base@17.0.7/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162)

"TeamCity Diagnostics Service 1" daemon group="main" prio=5 tid=34 nid=34 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Connection Pool Watcher 1" daemon group="main" prio=1 tid=742 nid=742 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Thread.sleep(Native Method)
    at jetbrains.buildServer.serverSide.db.ReliablePoolingDataSource.watchLoop(ReliablePoolingDataSource.java:119)
    at jetbrains.buildServer.serverSide.db.ReliablePoolingDataSource$$Lambda$269/0x00000008014c9a48.run(Unknown Source)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Catalina-utility-2" group="main" prio=1 tid=20 nid=20 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"RMI RenewClean-[127.0.0.1:44185]" daemon group="system" prio=5 tid=90 nid=90 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at java.base@17.0.7/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
    at java.rmi@17.0.7/sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:559)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Memory Usage Watcher 1" daemon group="main" prio=5 tid=66 nid=66 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at jetbrains.buildServer.diagnostic.MemoryUsageMonitor$Watcher.run(MemoryUsageMonitor.java:610)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"HSQLDB Timer @222ac8d9" daemon group="main" prio=5 tid=35 nid=35 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at org.hsqldb.lib.HsqlTimer$TaskQueue.park(Unknown Source)
    at org.hsqldb.lib.HsqlTimer.nextTask(Unknown Source)
    at org.hsqldb.lib.HsqlTimer$TaskRunner.run(Unknown Source)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"ec2-client-recovery-poller 1" daemon group="main" prio=5 tid=93 nid=93 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-4" daemon group="main" prio=5 tid=24 nid=24 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"RMI GC Daemon" daemon group="InnocuousThreadGroup" prio=2 tid=91 nid=91 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/java.lang.Object.wait(Native Method)
    at java.rmi@17.0.7/sun.rmi.transport.GC$Daemon.run(GC.java:127)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)
    at java.base@17.0.7/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162)

"http-nio-8111-exec-5" daemon group="main" prio=5 tid=25 nid=25 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-1" daemon group="main" prio=5 tid=21 nid=21 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"http-nio-8111-exec-9" daemon group="main" prio=5 tid=29 nid=29 waiting 
   java.lang.Thread.State: WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
    at java.base@17.0.7/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
    at java.base@17.0.7/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:141)
    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:33)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1114)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)
    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)

"Catalina-utility-1" group="main" prio=1 tid=19 nid=19 waiting 
   java.lang.Thread.State: TIMED_WAITING
    at java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)
    at java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
    at java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)


Server statistics:
   Number of running builds = 0
   Number of registered agents = 0

Memory usage:
   CodeHeap 'non-nmethods': used = 1.63 MB committed = 2.43 MB max = 5.56 MB used/max = 29.39%
   Metaspace: used = 245.3 MB committed = 252.87 MB max = -1 B 
   CodeHeap 'profiled nmethods': used = 48.9 MB committed = 49 MB max = 317.21 MB used/max = 15.42%
   Compressed Class Space: used = 25.91 MB committed = 28.18 MB max = 1 GB used/max = 2.53%
   G1 Eden Space: used = 112 MB committed = 482 MB max = -1 B 
   G1 Old Gen: used = 240.9 MB committed = 318 MB max = 2 GB used/max = 11.76%
   G1 Survivor Space: used = 0 B committed = 0 B max = -1 B 
   CodeHeap 'non-profiled nmethods': used = 31.94 MB committed = 32 MB max = 317.21 MB used/max = 10.07%
   Total: used = 706.61 MB max = 3.62 GB used/max = 19.04%

Nodes configuration:
   Main node; id: MAIN_SERVER, responsibilities: [CAN_PROCESS_BUILD_MESSAGES, CAN_CHECK_FOR_CHANGES, CAN_PROCESS_BUILD_TRIGGERS, CAN_PROCESS_USER_DATA_MODIFICATION_REQUESTS, MAIN_NODE], last acitivity: 2025-03-03 20:19:14, status: online  {Current node}

CPU statistics:
   Available processors = 4
   Load average (1m) = 3.40
   Overall CPU usage = 17.41%
   TeamCity process CPU usage = 23.97%

Last full GC was finished 8h:01m:09s,422ms ago, took 1s,657ms, freed 36.81 MB

Dump taken in 22ms
